# SQL 과제 - 1주차

## 1-1. BigQuery 기초 지식
<br/>

> 💡 **데이터 저장 형태**  

* 데이터는 보통 데이터베이스 테이블 등에 저장

  * Database: 데이터의 저장소
  * Table: 데이터가 저장된 공간 (데이터베이스 안에 존재)
  * 저장된 데이터를 제품(웹, 앱)에서 사용
* MySQL, Oracle, PostgreSQL 같은 데이터베이스에 주로 저장

  -> 회사마다 사용하는 것이 다름

<br/>


> 💡 **이와같은 데이터베이스의 특징 => OLTP**

* **OLTP**: Online Transaction Precessing
* 거래를 하기 위해 사용되는 데이터베이스
  * 보류, 중간 상태가 없음 - 주문을 완료하거나 안하거나 : 데이터가 무결하다
  * 데이터의 추가(Insert), 데이터의 변경(Update)이 많이 발생
* SQL을 사용해 데이터를 추출할 수 있으나 분석을 위해 만든 데이터베이스가 아니라 쿼리 속도가 느릴 수 있음

<br/>


> 💡 **그렇다면 SQL이란?**

* SQL: 데이터베이스에서 데이터를 가지고 올 때 사용하는 언어
* 데이터베이스의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어
* 쿼리문, 쿼리 구문, 쿼리를 짠다 등등..

<br/>


> 💡 **테이블에 저장된 데이터의 형태**

* 테이블의 구조
  * 행(Row): 새로운 row는 가로로 한 줄을 의미(하나의 고유한 데이터)
  * 열(Column): 세로로 한 줄, 각 데이터의 특정 속성 값
* 테이블에 저장된 형태는 엑셀, 스프레드시트와 유사

<br/>


> 💡 **OLAP와 데이터 웨어하우스의 등장**

* OLTP로 데이터 분석을 하다가 속도, 기능 부족 이슈로 OLAP 등장
* **OLAP**: Online Analytical Processing
  * 분석을 위한 기능 제공
* 데이터 웨어하우스
  * 데이터를 한 곳에 모아서 저장
  * 여러 곳에 저장된 데이터 예시: Database, 웹(크롤링), API 결과 등

=> **BigQuery: 구글 클라우드의 OLAP + Data Warehouse**

<br/>


> 💡 **빅쿼리의 장점**

1. 난이도: SQL을 사용해 쉽게 데이터 추출 가능
2. 속도: OLAP 도구이므로 속도가 빠름
3. Firebase, Google Analytics 4 데이터 쉽게 추출 가능
4. 데이터 웨어하우스 이용을 위해 서버를 띄울 필요 없음

<br/>

> 💡 **빅쿼리 사용 이유**

* 회사에서 앱이나 웹에서 Firebase, GA4를 활용할 경우
* 운영을 적은 비용, 인력으로 진행하기 위해

<br/>



## 1-2. BigQuery 환경 설정

<br/>


> 💡 **빅쿼리의 환경 구성 요소**

1. 프로젝트: 하나의 큰 건물. 그 안에 여러 목적의 창고 존재
2. 데이터셋 : 프로젝트에 있는 창고. 각 창고 공간에 데이터 저장
3. 테이블 : 창고에 있는 선반. 행과 열로 이루어진 데이터들이 저장

포켓몬 테이블에서 간단한 쿼리 실행 :
<br/>

![sql-3](/img/sql-3.png)

<br/>

## 2-1 데이터 활용 Overview

<br/>

> 💡 **데이터 활용 과정**

1. Task 정의
2. 데이터 탐색 (단일/다량 자료 -> 조건/추출/변환/요약 등)
3. 데이터 결과 검증 (내가 의도한 바와 맞게 쿼리를 짰는가)

<br/>

## 2-2 저장된 데이터 확인하기

<br/>

> 💡 **SQL 쿼리를 작성하기 전에**

* 데이터가 어떻게 저장되어 있는지
* 어떤 데이터가 저장되어 있는지
* 칼럼의 의미는 무엇인지

를 제대로 이해하는 것이 중요

<br/>


> 💡 **데이터가 저장되는 형태를 알려면**

* **ERD**(Entity Relationship Diagram): 데이터베이스 구조를 한눈에 알아보기 위해 사용
* 회사마다 있을수도 있고 없을수도 있음

<br/>

다음과 같은 형태로 구성 :

![sql-1](/img/sql-1.png)

이를 포켓몬 데이터 테이블들에 적용하면 :

![sql-2](/img/sql-2.png)